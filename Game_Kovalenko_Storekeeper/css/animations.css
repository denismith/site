/* Пульсация */
@keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.2); }
}

.pulse-slow { animation: pulse 3s ease-in-out infinite; }
.pulse-medium { animation: pulse 2s ease-in-out infinite; }
.pulse-fast { animation: pulse 1s ease-in-out infinite; }

/* Вращение */
@keyframes rotate-left {
    from { transform: rotate(0deg); }
    to { transform: rotate(-360deg); }
}

@keyframes rotate-right {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

@keyframes rotate-alternate {
    0%, 100% { transform: rotate(0deg); }
    50% { transform: rotate(180deg); }
}

.rotate-left { animation: rotate-left 4s linear infinite; }
.rotate-right { animation: rotate-right 4s linear infinite; }
.rotate-alternate { animation: rotate-alternate 3s ease-in-out infinite; }

/* Подпрыгивание */
@keyframes bounce-small {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

@keyframes bounce-medium {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-20px); }
}

@keyframes bounce-large {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-30px); }
}

.bounce-small { animation: bounce-small 2s ease-in-out infinite; }
.bounce-medium { animation: bounce-medium 1.5s ease-in-out infinite; }
.bounce-large { animation: bounce-large 2.5s ease-in-out infinite; }

/* Прыжки */
@keyframes jump-slow {
    0%, 100% { transform: translateY(0); }
    25% { transform: translateY(-40px); }
    50% { transform: translateY(0); }
    75% { transform: translateY(-20px); }
}

@keyframes jump-medium {
    0%, 100% { transform: translateY(0); }
    25% { transform: translateY(-60px); }
    50% { transform: translateY(0); }
    75% { transform: translateY(-30px); }
}

@keyframes jump-fast {
    0%, 100% { transform: translateY(0); }
    25% { transform: translateY(-80px); }
    50% { transform: translateY(0); }
    75% { transform: translateY(-40px); }
}

.jump-slow { animation: jump-slow 3s ease-in-out infinite; }
.jump-medium { animation: jump-medium 2s ease-in-out infinite; }
.jump-fast { animation: jump-fast 1.5s ease-in-out infinite; }

/* Плавное плавание */
@keyframes float-gentle {
    0%, 100% { transform: translateY(0) rotate(0deg); }
    50% { transform: translateY(-15px) rotate(5deg); }
}

@keyframes float-medium {
    0%, 100% { transform: translateY(0) rotate(0deg); }
    25% { transform: translateY(-20px) rotate(-5deg); }
    75% { transform: translateY(10px) rotate(5deg); }
}

.float-gentle { animation: float-gentle 4s ease-in-out infinite; }
.float-medium { animation: float-medium 3s ease-in-out infinite; }

/* Эффект переливания предметов */
@keyframes sparkle {
    0%, 100% { 
        filter: brightness(1) saturate(1);
        box-shadow: 0 0 10px currentColor;
    }
    25% { 
        filter: brightness(1.5) saturate(2);
        box-shadow: 0 0 20px #ff0000, 0 0 30px #ff0000;
    }
    50% { 
        filter: brightness(1.5) saturate(2);
        box-shadow: 0 0 20px #00ff00, 0 0 30px #00ff00;
    }
    75% { 
        filter: brightness(1.5) saturate(2);
        box-shadow: 0 0 20px #0088ff, 0 0 30px #0088ff;
    }
}

.sparkle-effect {
    animation: sparkle 0.5s linear infinite, pulse 1s ease-in-out infinite !important;
    z-index: 100 !important;
}

/* Конфетти */
.confetti-piece {
    position: absolute;
    pointer-events: none;
}

/* Уровень 3: плавание */
@keyframes swim-horizontal-big {
    0%, 100% { transform: translateX(0); }
    50% { transform: translateX(300px); }
}

@keyframes swim-vertical-big {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(300px); }
}

@keyframes swim-diagonal-big {
    0%, 100% { transform: translate(0, 0); }
    25% { transform: translate(200px, -200px); }
    50% { transform: translate(0, 0); }
    75% { transform: translate(-200px, 200px); }
}

@keyframes swim-random {
    0% { transform: translate(0, 0); }
    25% { transform: translate(150px, 100px); }
    50% { transform: translate(-100px, 200px); }
    75% { transform: translate(200px, -150px); }
    100% { transform: translate(0, 0); }
}

.swim-horizontal-big { animation: swim-horizontal-big 8s ease-in-out infinite; }
.swim-vertical-big { animation: swim-vertical-big 9s ease-in-out infinite; }
.swim-diagonal-big { animation: swim-diagonal-big 10s ease-in-out infinite; }
.swim-random { animation: swim-random 12s ease-in-out infinite; }

/* Свечение */
@keyframes glow-red {
    0%, 100% { 
        box-shadow: 0 0 10px #ff0000, 0 0 20px #ff0000;
    }
    50% { 
        box-shadow: 0 0 20px #ff0000, 0 0 40px #ff0000;
    }
}

@keyframes glow-blue {
    0%, 100% { 
        box-shadow: 0 0 10px #0088ff, 0 0 20px #0088ff;
    }
    50% { 
        box-shadow: 0 0 20px #0088ff, 0 0 40px #0088ff;
    }
}

@keyframes glow-green {
    0%, 100% { 
        box-shadow: 0 0 10px #00ff00, 0 0 20px #00ff00;
    }
    50% { 
        box-shadow: 0 0 20px #00ff00, 0 0 40px #00ff00;
    }
}

@keyframes glow-rainbow {
    0% { 
        box-shadow: 0 0 10px #ff0000, 0 0 20px #ff0000;
        filter: hue-rotate(0deg);
    }
    25% { 
        box-shadow: 0 0 10px #ffff00, 0 0 20px #ffff00;
    }
    50% { 
        box-shadow: 0 0 10px #00ff00, 0 0 20px #00ff00;
    }
    75% { 
        box-shadow: 0 0 10px #0088ff, 0 0 20px #0088ff;
    }
    100% { 
        box-shadow: 0 0 10px #ff0000, 0 0 20px #ff0000;
        filter: hue-rotate(360deg);
    }
}

.glow-red { animation: glow-red 2s ease-in-out infinite; }
.glow-blue { animation: glow-blue 2s ease-in-out infinite; }
.glow-green { animation: glow-green 2s ease-in-out infinite; }
.glow-rainbow { animation: glow-rainbow 3s linear infinite; }

/* Тряска всех предметов при ошибке */
@keyframes error-shake {
    0%, 100% { transform: translateX(0); filter: brightness(1); }
    10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); filter: brightness(2) saturate(15) hue-rotate(-180deg); }
    20%, 40%, 60%, 80% { transform: translateX(5px); filter: brightness(1); }
}

.party-error .item {
    animation: error-shake 0.5s;
}

/* Уезжание партии */
.party-exit {
    animation: slide-out-right 1s forwards;
}

@keyframes slide-out-right {
    from { 
        transform: translateX(0); 
        opacity: 1;
    }
    to { 
        transform: translateX(100vw); 
        opacity: 0;
    }
}

/* Появление партии */
.party-enter {
    animation: slide-in-left 1s forwards;
}

@keyframes slide-in-left {
    from { 
        transform: translateX(-100vw); 
        opacity: 0;
    }
    to { 
        transform: translateX(0); 
        opacity: 1;
    }
}

/* Сканер */
.scanner-overlay {
    position: absolute;
    top: -20px;
    left: -20px;
    right: -20px;
    bottom: -20px;
    border-radius: 50%;
    pointer-events: none;
    z-index: 10;
}

.scanner-red {
    border: 3px solid #ff0000;
    animation: scanner-pulse 1s infinite;
}

@keyframes scanner-pulse {
    0%, 100% { 
        opacity: 0.5;
        box-shadow: 0 0 10px #ff0000;
    }
    50% { 
        opacity: 1;
        box-shadow: 0 0 20px #ff0000;
    }
}

/* Прогресс сканирования */
.scan-progress {
    position: absolute;
    top: -25px;
    left: -25px;
    right: -25px;
    bottom: -25px;
    border-radius: 50%;
    background: conic-gradient(
        transparent 0deg,
        #00ff00 var(--progress, 0deg),
        transparent var(--progress, 0deg)
    );
    animation: scan-rotate 2s linear infinite;
    pointer-events: none;
    z-index: 5;
}

@keyframes scan-rotate {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

/* Исчезание предмета */
.item-remove {
    animation: item-fade-out 0.5s forwards;
}

@keyframes item-fade-out {
    0% { 
        transform: scale(1); 
        opacity: 1;
    }
    100% { 
        transform: scale(0); 
        opacity: 0;
    }
}